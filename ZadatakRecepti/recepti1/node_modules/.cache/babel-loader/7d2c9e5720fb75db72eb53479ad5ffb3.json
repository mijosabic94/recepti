{"ast":null,"code":"import ViewRecept from \"./ViewRecept.vue\";\nimport EditRecept from \"./EditRecept.vue\";\nimport axios from 'axios';\nexport default {\n  name: \"HomeItem\",\n\n  data() {\n    return {\n      rows: [],\n      selectedRecept: {},\n      showRecept: false,\n      showEditRecept: false\n    };\n  },\n\n  components: {\n    ViewRecept,\n    EditRecept\n  },\n\n  created() {\n    /*  fetch(\"http://localhost:3000/api/getAllRecords\")\n       .then((res) => res.json())\n       .then((data) => {\n         console.log(data);\n         this.rows = data;\n       }); */\n    axios.get('http://localhost:3000/api/getAllRecords').then(response => {\n      // JSON responses are automatically parsed.\n      this.rows = response.data; //this.posts = response.data\n    }).catch(e => {\n      this.errors.push(e);\n    });\n  },\n\n  methods: {\n    openRecept: function (row) {\n      this.showRecept = false;\n      this.selectedRecept = row;\n      this.showRecept = true;\n    },\n    handleEditButton: function () {\n      this.showEditRecept = true;\n      this.showRecept = false;\n    },\n    handleRemoveButton: function () {\n      var item = {};\n      item[\"_id\"] = this.selectedRecept._id;\n      console.log(\"item\", item);\n      var myHeaders = new Headers();\n      myHeaders.append(\"search_item\", item);\n      myHeaders.append('Access-Control-Allow-Credentials', true);\n      var headers = {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json',\n        \"search_item\": item\n      };\n      /* \n            console.log(myHeaders);\n      \n            var requestOptions = {\n              method: \"POST\",\n              headers: myHeaders,\n              redirect: \"follow\",\n            };\n      \n            fetch(\n              \"http://localhost:3000/api/removeRecord\",\n              { mode: \"no-cors\" },\n              requestOptions\n            )\n              .then((response) => response.text())\n              .then((result) => console.log(result)) \n              .catch((error) => console.log(\"error\", error));*/\n\n      axios.post('http://localhost:3000/api/removeRecord', {\n        headers,\n        withCredentials: true\n      }).then(response => {\n        // JSON responses are automatically parsed.\n        this.posts = response.data;\n      }).catch(e => {\n        this.errors.push(e);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AA0BA,OAAOA,UAAP,MAAuB,kBAAvB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,MAAI,EAAE,UADO;;AAEbC,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAE,EADD;AAELC,oBAAc,EAAE,EAFX;AAGLC,gBAAU,EAAE,KAHP;AAILC,oBAAc,EAAE;AAJX,KAAP;AAMD,GATY;;AAUbC,YAAU,EAAE;AACVT,cADU;AAEVC;AAFU,GAVC;;AAcbS,SAAO,GAAG;AACT;;;;;;AAOGR,SAAK,CAACS,GAAN,CAAU,yCAAV,EACDC,IADC,CACIC,QAAO,IAAK;AAChB;AACC,WAAKR,IAAL,GAAYQ,QAAQ,CAACT,IAArB,CAFe,CAGhB;AACD,KALC,EAMDU,KANC,CAMKC,KAAK;AACV,WAAKC,MAAL,CAAYC,IAAZ,CAAiBF,CAAjB;AACD,KARC;AASH,GA/BY;;AAiCbG,SAAO,EAAE;AACPC,cAAU,EAAE,UAAUC,GAAV,EAAe;AACzB,WAAKb,UAAL,GAAkB,KAAlB;AACA,WAAKD,cAAL,GAAsBc,GAAtB;AACA,WAAKb,UAAL,GAAkB,IAAlB;AACD,KALM;AAMPc,oBAAgB,EAAE,YAAY;AAC5B,WAAKb,cAAL,GAAsB,IAAtB;AACA,WAAKD,UAAL,GAAkB,KAAlB;AACD,KATM;AAUPe,sBAAkB,EAAE,YAAY;AAC9B,UAAIC,IAAG,GAAI,EAAX;AACAA,UAAI,CAAC,KAAD,CAAJ,GAAc,KAAKjB,cAAL,CAAoBkB,GAAlC;AACAC,aAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBH,IAApB;AAEA,UAAII,SAAQ,GAAI,IAAIC,OAAJ,EAAhB;AACAD,eAAS,CAACE,MAAV,CAAiB,aAAjB,EAAgCN,IAAhC;AACAI,eAAS,CAACE,MAAV,CAAiB,kCAAjB,EAAoD,IAApD;AAEA,UAAIC,OAAM,GAAI;AACd,uCAA+B,GADjB;AAEd,wBAAgB,kBAFF;AAGd,uBAAeP;AAHD,OAAd;AAMN;;;;;;;;;;;;;;;;;;AAkBSrB,WAAK,CAAC6B,IAAN,CAAW,wCAAX,EAAoD;AAAED,eAAF;AAAWE,uBAAe,EAAE;AAA5B,OAApD,EACJpB,IADI,CACCC,QAAO,IAAK;AAChB;AACA,aAAKoB,KAAL,GAAapB,QAAQ,CAACT,IAAtB;AACD,OAJI,EAKJU,KALI,CAKEC,KAAK;AACV,aAAKC,MAAL,CAAYC,IAAZ,CAAiBF,CAAjB;AACD,OAPI;AAQJ;AAnDM;AAjCI,CAAf","names":["ViewRecept","EditRecept","axios","name","data","rows","selectedRecept","showRecept","showEditRecept","components","created","get","then","response","catch","e","errors","push","methods","openRecept","row","handleEditButton","handleRemoveButton","item","_id","console","log","myHeaders","Headers","append","headers","post","withCredentials","posts"],"sourceRoot":"","sources":["/Users/mijosabic/ZadatakRecepti/recepti/src/components/Home.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"menu\">\n      <button class=\"buttonAddNew\" v-on:click=\"handleEditButton\">Edit</button>\n      <button class=\"buttonAddNew\" v-on:click=\"handleRemoveButton\">\n        Remove\n      </button>\n    </div>\n    <div class=\"slider\">\n      <div class=\"sliderItem\" v-for=\"row in rows\" v-bind:key=\"row.id\">\n        <button class=\"buttonRecept\" v-on:click=\"openRecept(row)\">\n          <img src=\"../img/recept.jpeg\" class=\"imageBtn\" />\n        </button>\n        <p>{{ row.Naziv }}</p>\n      </div>\n    </div>\n\n    <view-recept v-if=\"showRecept\" :recept=\"{ selectedRecept }\"></view-recept>\n    <edit-recept\n      v-if=\"showEditRecept\"\n      :recept=\"{ selectedRecept }\"\n    ></edit-recept>\n  </div>\n</template>\n\n<script>\nimport ViewRecept from \"./ViewRecept.vue\";\nimport EditRecept from \"./EditRecept.vue\";\nimport axios from 'axios';\n\nexport default {\n  name: \"HomeItem\",\n  data() {\n    return {\n      rows: [],\n      selectedRecept: {},\n      showRecept: false,\n      showEditRecept: false,\n    };\n  },\n  components: {\n    ViewRecept,\n    EditRecept,\n  },\n  created() {\n   /*  fetch(\"http://localhost:3000/api/getAllRecords\")\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        this.rows = data;\n      }); */\n\n      axios.get('http://localhost:3000/api/getAllRecords')\n    .then(response => {\n      // JSON responses are automatically parsed.\n       this.rows = response.data;\n      //this.posts = response.data\n    })\n    .catch(e => {\n      this.errors.push(e)\n    })\n  },\n\n  methods: {\n    openRecept: function (row) {\n      this.showRecept = false;\n      this.selectedRecept = row;\n      this.showRecept = true;\n    },\n    handleEditButton: function () {\n      this.showEditRecept = true;\n      this.showRecept = false;\n    },\n    handleRemoveButton: function () {\n      var item = {};\n      item[\"_id\"] = this.selectedRecept._id;\n      console.log(\"item\", item);\n\n      var myHeaders = new Headers();\n      myHeaders.append(\"search_item\", item);\n      myHeaders.append('Access-Control-Allow-Credentials',true);\n\n      var headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json',\n      \"search_item\": item\n    };\n      \n/* \n      console.log(myHeaders);\n\n      var requestOptions = {\n        method: \"POST\",\n        headers: myHeaders,\n        redirect: \"follow\",\n      };\n\n      fetch(\n        \"http://localhost:3000/api/removeRecord\",\n        { mode: \"no-cors\" },\n        requestOptions\n      )\n        .then((response) => response.text())\n        .then((result) => console.log(result)) \n        .catch((error) => console.log(\"error\", error));*/\n\n         axios.post('http://localhost:3000/api/removeRecord',{ headers, withCredentials: true })\n    .then(response => {\n      // JSON responses are automatically parsed.\n      this.posts = response.data\n    })\n    .catch(e => {\n      this.errors.push(e)\n    })\n    },\n  },\n};\n</script>\n\n<style scoped>\ntable {\n  font-family: \"Open Sans\", sans-serif;\n  width: 750px;\n  border-collapse: collapse;\n  border: 3px solid #44475c;\n  margin: 10px 10px 0 10px;\n}\n\ntable th {\n  text-transform: uppercase;\n  text-align: left;\n  background: #44475c;\n  color: #fff;\n  padding: 8px;\n  min-width: 30px;\n}\n\ntable td {\n  text-align: left;\n  padding: 8px;\n  border-right: 2px solid #7d82a8;\n}\ntable td:last-child {\n  border-right: none;\n}\ntable tbody tr:nth-child(2n) td {\n  background: #d4d8f9;\n}\n\n.imageBtn {\n  height: 100px;\n  width: 100px;\n}\n\n.menu {\n  position: static;\n  width: 100%;\n  height: 60px;\n  background: rgb(157, 157, 214);\n}\n\n.buttonAddNew {\n  height: 100%;\n  background: rgb(157, 157, 214);\n}\n\n.buttonRecept {\n  margin: 10px;\n  border-radius: 10px;\n}\n.slider {\n  width: 100vw;\n  max-width: 100%;\n  overflow: hidden;\n  overflow-x: auto;\n  white-space: nowrap;\n}\n\n.sliderItem {\n  width: 25%;\n  height: 100px;\n  display: inline-block;\n}\n</style>\n\n\n"]},"metadata":{},"sourceType":"module"}